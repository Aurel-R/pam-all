--- dependencies ---
	1. install libpam0g and libpam0g-dev

--- secure your session ---
	1. open an independent terminal
	2. sudo bash
	3. do not close it, it can save you ;-)


(on other terminal) 


--- make directory ---
	1. mkdir /usr/lib/shamir


--- install pam module --- 
	1. make
	2. copy pam_shamir.so in /lib/security/ (depend of your system (lib32, lib64, x86_64-linux-gnu...)
	3. chown root:root pam_shamir.so
	4. chmod 644 pam_shamir.so


--- install sudo plugin ---
	1. make
	2. copy shared.so in /usr/lib/sudo/
	3. chown root:root pam_shamir.so
	4. chmod 644 shared.so

	
--- configure pam ---
	1. edit /etc/pam.d/sudo  (adapt the module path):
  
	> +	auth       required   /lib/x86_64-linux-gnu/security/pam_shamir.so debug
	>	auth       required   pam_env.so readenv=1 user_readenv=0
	>	auth       required   pam_env.so readenv=1 envfile=/etc/default/locale user_readenv=0
	> -	@include common-auth
	> +	auth    [success=1 default=ignore]      pam_unix.so nullok_secure use_first_pass 
	> +	auth    requisite                       pam_deny.so
	> +	auth    required                        pam_permit.so
	> +	auth    optional                        pam_cap.so
	>	@include common-account
	> +	session	required	/lib/x86_64-linux-gnu/security/pam_shamir.so
	>	@include common-session-noninteractive 


--- configure sudoers ---
	1. edit /etc/sudoers (sudo EDITOR=/usr/bin/vim visudo) :
	
	> - 	Defaults	env_reset
	> + 	Defaults	env_reset,timestamp_timeout=0


--- configure sudo ---
	1. edit (or create) /etc/sudo.conf :

	>	Plugin	sudoers_policy	sudoers.so
	>	Plugin	sudoers_io	sudoers.so
	> +	Plugin  shared_io	shared.so


--- testing module ---
	1. try a command with sudo
	2. get the last lines in your /var/log/auth.log
	3. If you see a line like that, you win ! 
		pam_shamir.so[9482]: debug: the module called via pam_sm_authenticate function
	4. else, contact the developper


